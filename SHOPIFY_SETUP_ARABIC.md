# ุฏููู ุฑุจุท Shopify - ูู ุญุงุฌุฉ ุชููุงุฆู! ๐

## ุงูููุฑุฉ ุจุจุณุงุทุฉ

ููุง ุญุฏ ูุนูู Order ูู Shopify โ ูุธูุฑ ุชููุงุฆู ูู ุงูู CRM ุนูุฏู โ

---

## ุงูุฎุทูุงุช (5 ุฏูุงูู ููุท!)

### 1๏ธโฃ ุดุบู ูู ุญุงุฌุฉ ุจุถุบุทุฉ ูุงุญุฏุฉ

```bash
start-all.bat
```

**ูููุชุญ 3 ููุงูุฐ:**
- Backend (ุงูุฎุงุฏู)
- Frontend (ุงููููุน)
- ngrok (ููู HTTPS)

---

### 2๏ธโฃ ุงูุชุธุฑ ุดููุฉ (30 ุซุงููุฉ)

ุฎูู ูู ุงูููุงูุฐ ุชุดุชุบู...

---

### 3๏ธโฃ ุงูุชุญ ุงููููุน

```
http://localhost:3000
```

**ุณุฌู ุฏุฎูู:**
- Email: `admin@crm.com`
- Password: `Admin@123456`

---

### 4๏ธโฃ ุฑูุญ Settings

ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ โ **Settings**

---

### 5๏ธโฃ ุงูุณุฎ ุงูู Webhook URL

**ูุชูุงูู ูุณู ุงุณูู "Shopify Webhook URL"**

- ุงููููู ููุฌูุฏ ุฌุงูุฒ! ๐ฏ
- ุงุถุบุท ุฒุฑุงุฑ **Copy** ๐
- ุฎูุงุต! ุงููููู ูู ุงูู clipboard

**ูุซุงู ุนูู ุงููููู:**
```
https://abc123.ngrok-free.app/api/webhook/shopify/orders?userId=cm3xyz789
```

---

### 6๏ธโฃ ุฑูุญ Shopify Admin

1. ุงูุชุญ ูุชุฌุฑู ูู Shopify
2. **Settings** (ูู ุฃุณูู ุงููุณุงุฑ)
3. **Notifications** (ูู ุงููุงุฆูุฉ)
4. ุงุณูุฑูู ูุชุญุช โ **Webhooks**
5. ุงุถุบุท **Create webhook**

---

### 7๏ธโฃ ุงููุง ุงูุจูุงูุงุช ูู Shopify

```
Event:              Order creation
Format:             JSON
URL:                [ุงูุตู ุงููููู ุงููู ูุณุฎุชู ูู Settings]
Webhook API version: 2024-01 (ุฃู ุฃุญุฏุซ)
```

ุงุถุบุท **Save** โ

---

### 8๏ธโฃ ุงุฎุชุจุฑ!

**ุทุฑููุฉ 1: Test ูู Shopify**
- ูู ุตูุญุฉ ุงูู webhook ุงููู ุนููุชู
- ุงุถุบุท **Send test notification**
- ุฑูุญ ุตูุญุฉ **Orders** ูู ุงูู CRM
- ุงูููุฑูุถ ูุธูุฑ order ุชุฌุฑูุจู!

**ุทุฑููุฉ 2: Order ุญูููู**
- ุงุนูู order ูู ูุชุฌุฑู
- ุฑูุญ ุตูุญุฉ **Orders** ูู ุงูู CRM
- ููุธูุฑ ููุฑุงู! ๐

---

## ููู ูุญุชุงุฌูู ngrokุ

Shopify ุจูุทูุจ **HTTPS** (ูุด HTTP)

- localhost = `http://` โ
- ngrok = `https://` โ

**ngrok ุจูุญูู localhost ูู HTTPS ูุฌุงูุงู!**

---

## ููุงุญุธุงุช ูููุฉ

### โ๏ธ ุงููููู ุจูุชุบูุฑ

ูู ูุฑุฉ ุชุดุบู ngrokุ ุจูุฏูู URL ุฌุฏูุฏ.

**ุงูุญู:**
- ูู ูุฑุฉ ุชุดุบู ngrok
- ุฑูุญ Settings ูู ุงูู CRM
- ุงูุณุฎ ุงููููู ุงูุฌุฏูุฏ
- ุญุฏุซ ุงูู webhook ูู Shopify

### โ ููู Production (Domain ุญูููู)

ููุง ุชูุดุฑ ุงููููุน ุนูู domain ุญูููู:
- ูุด ูุญุชุงุฌ ngrok! 
- ุงููููู ููุจูู ุซุงุจุช
- ูุซุงู: `https://your-domain.com/api/webhook/shopify/orders?userId=xxx`

---

## ููู ูุดุชุบู ุงููุธุงูุ

```
Shopify Order
    โ
Webhook ูุจุนุช ููู CRM
    โ
CRM ูุณุชูุจู ุงูุจูุงูุงุช
    โ
ูุนูู Customer ุฌุฏูุฏ (ูู ูุด ููุฌูุฏ)
    โ
ูุญูุธ ุงูู Order
    โ
ูุธูุฑ ูู ุตูุญุฉ Orders ููุฑุงู! โ
```

---

## ุงููุดุงูู ุงูุดุงุฆุนุฉ

### โ ุงููููู ูุด ุดุบุงู

**ุงูุญู:**
1. ุชุฃูุฏ ุฅู ุงูู backend ุดุบุงู (ูุงูุฐุฉ Backend Server)
2. ุชุฃูุฏ ุฅู ngrok ุดุบุงู (ูุงูุฐุฉ ngrok)
3. ุงูุณุฎ ุงููููู ูู Settings ุชุงูู
4. ุชุฃูุฏ ุฅูู ุญุงุทุท ุงููููู ุงูุตุญ ูู Shopify

### โ Order ูุด ุจูุธูุฑ

**ุงูุญู:**
1. ุฑูุญ Shopify webhook settings
2. ุดูู Recent deliveries
3. ูู ููู errorุ ูููููู ุฅูู ุงููุดููุฉ
4. ุชุฃูุฏ ุฅู ุงูู URL ุตุญูุญ

### โ ngrok ูุด ุจูุดุชุบู

**ุงูุญู:**
```bash
# ุฌุฑุจ ุชุดุบูู ูุฏูู
npx ngrok http 5000
```

ูู ุทูุน error:
- ุชุฃูุฏ ุฅู ุงูู backend ุดุบุงู ุนูู port 5000
- ุฌุฑุจ ุชููู ngrok ูุชุดุบูู ุชุงูู

---

## ุงููููุงุช ุงููููุฉ

### `start-all.bat`
ูุดุบู ูู ุญุงุฌุฉ ุจุถุบุทุฉ ูุงุญุฏุฉ:
- Backend
- Frontend  
- ngrok

### Settings Page
ูุนุฑุถ ุงูู webhook URL ุฌุงูุฒ ูููุณุฎ

### Backend
ูุณุชูุจู ุงูู webhooks ูู Shopify ุชููุงุฆู

---

## OAuth (ุงุฎุชูุงุฑู)

ูู ุนุงูุฒ ุชุฑุจุท Shopify ุจู OAuth:

1. ุฑูุญ Settings ูู ุงูู CRM
2. ูุณู **Shopify Integration**
3. ุงุถุบุท **Configure Shopify Credentials**
4. ุญุท:
   - Shop Domain: `your-store.myshopify.com`
   - Client ID: ูู Shopify App
   - Client Secret: ูู Shopify App
5. ุงุถุบุท **Connect with Shopify**

**ููุงุญุธุฉ:** OAuth ูุด ุถุฑูุฑู ููู webhooks! ุงูู webhooks ุชุดุชุบู ุจุฏููู.

---

## ุงูุฎูุงุตุฉ

### โ ูุง ุชู ุนููู:

1. **Backend** - ูุณุชูุจู Shopify webhooks ูุจุงุดุฑุฉ
2. **Frontend** - ูุนุฑุถ ุงูู webhook URL ุฌุงูุฒ
3. **Auto-detection** - ููุชุดู ngrok ุชููุงุฆู
4. **User-specific** - ูู ูุณุชุฎุฏู ุนูุฏู webhook ุฎุงุต
5. **Real-time** - Orders ุชุธูุฑ ููุฑุงู

### ๐ฏ ูู ุงููู ุนููู:

1. ุดุบู `start-all.bat`
2. ุงูุณุฎ ุงููููู ูู Settings
3. ุญุทู ูู Shopify
4. ุฎูุงุต! ๐

---

## ูููุณุงุนุฏุฉ

ูู ุนูุฏู ุฃู ูุดููุฉ:

1. **ุดูู ุงูู logs:**
   - Backend window - ูุนุฑุถ ุงูู requests
   - ngrok window - ูุนุฑุถ ุงูู traffic
   - Shopify webhook logs - ูุนุฑุถ ุงูู deliveries

2. **ุชุฃูุฏ ูู:**
   - Backend ุดุบุงู โ
   - Frontend ุดุบุงู โ
   - ngrok ุดุบุงู โ
   - ุงููููู ุตุญูุญ ูู Shopify โ

3. **ุงุฎุชุจุฑ:**
   - ุงุนูู test order
   - ุดูู ูู ุธูุฑ ูู Orders page
   - ูู ูุธูุฑุดุ ุดูู ุงูู logs

---

## ูุซุงู ูุงูู

```bash
# 1. ุดุบู ูู ุญุงุฌุฉ
start-all.bat

# 2. ุงูุชุธุฑ 30 ุซุงููุฉ

# 3. ุงูุชุญ ุงููุชุตูุญ
http://localhost:3000

# 4. ุณุฌู ุฏุฎูู
admin@crm.com / Admin@123456

# 5. ุฑูุญ Settings

# 6. ุงูุณุฎ Shopify Webhook URL
https://abc123.ngrok-free.app/api/webhook/shopify/orders?userId=cm3xyz

# 7. ุฑูุญ Shopify
Settings โ Notifications โ Webhooks โ Create webhook

# 8. ุญุท ุงูุจูุงูุงุช
Event: Order creation
Format: JSON
URL: [ุงูุตู ุงููููู]
Save โ

# 9. ุงุฎุชุจุฑ
ุงุนูู order โ ุดูู Orders page โ ููุธูุฑ! ๐
```

---

ุชู ุจุญูุฏ ุงููู! ๐

**ูู ุญุงุฌุฉ ุชููุงุฆู - ููุท ุงูุณุฎ ูุงูุตู!** ๐

