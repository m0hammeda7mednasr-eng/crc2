# ========================================
# Backend Environment Variables (Railway)
# ========================================
# Copy this file and rename to .env in Railway
# Replace all [PLACEHOLDER] values with your actual values

# ========================================
# DATABASE (Supabase PostgreSQL)
# ========================================
# Get from: Supabase Dashboard → Settings → Database → Connection String
# Format: postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres
DATABASE_URL="postgresql://postgres:[YOUR-SUPABASE-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres"

# ========================================
# JWT AUTHENTICATION
# ========================================
# Generate a random secret: openssl rand -base64 32
# IMPORTANT: Keep this secret and never share it!
JWT_SECRET="[GENERATE-RANDOM-SECRET-HERE-USE-OPENSSL-RAND-BASE64-32]"
JWT_EXPIRES_IN="7d"

# ========================================
# SERVER CONFIGURATION
# ========================================
PORT=5000
NODE_ENV="production"

# ========================================
# CORS & FRONTEND
# ========================================
# Your Vercel frontend URL (after deployment)
# Example: https://whatsapp-crm.vercel.app
CLIENT_URL="https://[YOUR-VERCEL-APP-NAME].vercel.app"
FRONTEND_URL="https://[YOUR-VERCEL-APP-NAME].vercel.app"

# ========================================
# SHOPIFY OAUTH
# ========================================
# Your Railway backend URL (after deployment)
# Example: https://whatsapp-crm-backend.up.railway.app
SHOPIFY_REDIRECT_URI="https://[YOUR-RAILWAY-APP-NAME].up.railway.app/api/shopify/auth/callback"
SHOPIFY_SCOPES="read_orders,write_webhooks,read_customers"

# ========================================
# RATE LIMITING
# ========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ========================================
# FILE UPLOAD
# ========================================
MAX_FILE_SIZE=5242880
UPLOAD_DIR="./uploads"

# ========================================
# DEPLOYMENT CHECKLIST
# ========================================
# ✅ 1. Create Supabase project and get DATABASE_URL
# ✅ 2. Generate JWT_SECRET using: openssl rand -base64 32
# ✅ 3. Deploy backend to Railway first
# ✅ 4. Get Railway URL and update SHOPIFY_REDIRECT_URI
# ✅ 5. Deploy frontend to Vercel
# ✅ 6. Get Vercel URL and update CLIENT_URL & FRONTEND_URL
# ✅ 7. Update Railway env vars with Vercel URL
# ✅ 8. Test the application
